(()=>{"use strict";var e,t={682(e,t,n){const l=window.wp.blocks,i=window.React,a=window.wp.i18n,r=window.wp.blockEditor,o=window.wp.components,c=window.wp.data,s=window.wp.serverSideRender;var v=n.n(s);const m=JSON.parse('{"UU":"eventcrafter/timeline"}');(0,l.registerBlockType)(m.UU,{edit:function({attributes:e,setAttributes:t}){const{timelineId:n,source:l,layout:s,limit:m,showAnimation:u}=e,p=(0,r.useBlockProps)(),{timelines:d,isLoading:_}=(0,c.useSelect)(e=>{const{getEntityRecords:t,isResolving:n}=e("core");return{timelines:t("postType","ec_timeline",{per_page:100,status:"publish"}),isLoading:n("getEntityRecords",["postType","ec_timeline",{per_page:100,status:"publish"}])}},[]),f=[{value:0,label:(0,a.__)("Select a timeline...","eventcrafter-visual-timeline")},...(d||[]).map(e=>({value:e.id,label:e.title.rendered}))],h=n>0||l,w=(0,i.createElement)(r.InspectorControls,null,(0,i.createElement)(o.PanelBody,{title:(0,a.__)("Timeline Settings","eventcrafter-visual-timeline")},(0,i.createElement)(o.SelectControl,{label:(0,a.__)("Timeline","eventcrafter-visual-timeline"),value:n,options:f,onChange:e=>t({timelineId:parseInt(e,10)})}),(0,i.createElement)(o.SelectControl,{label:(0,a.__)("Layout","eventcrafter-visual-timeline"),value:s,options:[{value:"vertical",label:(0,a.__)("Vertical","eventcrafter-visual-timeline")},{value:"horizontal",label:(0,a.__)("Horizontal","eventcrafter-visual-timeline")}],onChange:e=>t({layout:e})}),(0,i.createElement)(o.__experimentalNumberControl,{label:(0,a.__)("Max Events (-1 for all)","eventcrafter-visual-timeline"),value:m,onChange:e=>t({limit:parseInt(e,10)}),min:-1}),(0,i.createElement)(o.ToggleControl,{label:(0,a.__)("Enable Animations","eventcrafter-visual-timeline"),checked:u,onChange:e=>t({showAnimation:e})})),(0,i.createElement)(o.PanelBody,{title:(0,a.__)("Advanced","eventcrafter-visual-timeline"),initialOpen:!1},(0,i.createElement)(o.TextControl,{label:(0,a.__)("External Source URL","eventcrafter-visual-timeline"),value:l,onChange:e=>t({source:e}),help:(0,a.__)("Optional: Load timeline from external JSON URL","eventcrafter-visual-timeline")})));return h?(0,i.createElement)("div",{...p},w,(0,i.createElement)(v(),{block:"eventcrafter/timeline",attributes:e,LoadingResponsePlaceholder:()=>(0,i.createElement)(o.Placeholder,{icon:"excerpt-view"},(0,i.createElement)(o.Spinner,null)),ErrorResponsePlaceholder:()=>(0,i.createElement)(o.Placeholder,{icon:"warning",label:(0,a.__)("Error loading timeline","eventcrafter-visual-timeline")},(0,a.__)("There was an error loading this timeline. Please check your selection.","eventcrafter-visual-timeline"))}),n>0&&(0,i.createElement)("div",{className:"ec-block-edit-link"},(0,i.createElement)(o.Button,{variant:"secondary",href:(window.ecBlockData?.adminUrl||"/wp-admin/")+`post.php?post=${n}&action=edit`,target:"_blank"},(0,a.__)("Edit Timeline","eventcrafter-visual-timeline")))):(0,i.createElement)("div",{...p},w,(0,i.createElement)(o.Placeholder,{icon:"excerpt-view",label:(0,a.__)("EventCrafter Timeline","eventcrafter-visual-timeline"),instructions:(0,a.__)("Select an existing timeline or enter a JSON URL.","eventcrafter-visual-timeline")},_?(0,i.createElement)(o.Spinner,null):(0,i.createElement)("div",{className:"ec-block-placeholder-content"},(0,i.createElement)(o.SelectControl,{value:n,options:f,onChange:e=>t({timelineId:parseInt(e,10)})}),(0,i.createElement)(o.Button,{variant:"secondary",href:(window.ecBlockData?.adminUrl||"/wp-admin/")+"post-new.php?post_type=ec_timeline",target:"_blank"},(0,a.__)("+ Create New Timeline","eventcrafter-visual-timeline")))))},save:()=>null})}},n={};function l(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,l),a.exports}l.m=t,e=[],l.O=(t,n,i,a)=>{if(!n){var r=1/0;for(v=0;v<e.length;v++){for(var[n,i,a]=e[v],o=!0,c=0;c<n.length;c++)(!1&a||r>=a)&&Object.keys(l.O).every(e=>l.O[e](n[c]))?n.splice(c--,1):(o=!1,a<r&&(r=a));if(o){e.splice(v--,1);var s=i();void 0!==s&&(t=s)}}return t}a=a||0;for(var v=e.length;v>0&&e[v-1][2]>a;v--)e[v]=e[v-1];e[v]=[n,i,a]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={643:0,627:0};l.O.j=t=>0===e[t];var t=(t,n)=>{var i,a,[r,o,c]=n,s=0;if(r.some(t=>0!==e[t])){for(i in o)l.o(o,i)&&(l.m[i]=o[i]);if(c)var v=c(l)}for(t&&t(n);s<r.length;s++)a=r[s],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(v)},n=globalThis.webpackChunkeventcrafter_visual_timeline=globalThis.webpackChunkeventcrafter_visual_timeline||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=l.O(void 0,[627],()=>l(682));i=l.O(i)})();